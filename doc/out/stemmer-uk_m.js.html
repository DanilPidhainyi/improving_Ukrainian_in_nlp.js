<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: stemmer-uk_m.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: stemmer-uk_m.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
 * Copyright (c) AXA Group Operations Spain S.A.
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * 'Software'), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */


const {BaseStemmer} = require('@nlpjs/core');



class StemmerUk extends BaseStemmer {
    constructor(container) {
        super(container);
        this.name = 'stemmer-uk_m';
    }

    /**
     * &lt;pre>
     * StemmerUk - це клас для cтемінгу тексту
     *
     * Стемінг – це процес скорочення слова
     * до основи шляхом відкидання допоміжних частин,
     * як-от закінчення чи суфікс
     * &lt;/pre>
     * @author DanilPidhainyi
     * @exports StemmerUk
     *
     *
     *
     * @example
     *
     * StemmerUk.stemWord('розробляти')
     * // -> 'розробл'
     * @return {string}
     *
     *
     * @example
     * StemmerUk.stem(['Хто', 'є', 'твоїм', 'розробником'])
     * // -> [ 'Хто', 'є', 'твоїм', 'розробник' ]
     * @return {Array}
     *
     */
    match(scrWord, regex, replacement = '') {
        const word = scrWord;
        const src = word.str;
        word.str = word.str.replace(regex, replacement);
        return word.str !== src;
    }

    replace(token, regex, replacement = '') {
        return token.replace(regex, replacement);
    }

    step1(word) {
        let srcWord = word;
        word = this.replace(word, /(?:[иы]в(?:ши(?:сь)?)?)$/);
        word = this.replace(word, /(?:а(?:в(?:ши(?:сь)?)?))$/, 'а');
        word = this.replace(word, /(?:я(?:в(?:ши(?:сь)?)?))$/, 'я');
        if (srcWord === word) {
            word = this.replace(word, /с[яьи]$/);
            srcWord = word;
            word = this.replace(
                word,
                /(?:[аеєуюя]|еє|ем|єє|ий|их|іх|ів|ій|ім|їй|ім|им|ими|іми|йми|ої|ою|ова|ове|ого|ому)$/
            );
            if (srcWord !== word) {
                word = this.replace(word, /(?:[аіу]|ій|ий|им|ім|их|йми|ого|ому|ою)$/);
            } else {
                srcWord = word;
                word = this.replace(
                    word,
                    /(?:[еєую]|ав|али|ати|вши|ив|ити|ме|сь|ся|ши|учи|яти|ячи|ать|ять)$/g
                );
                if (srcWord === word) {
                    word = this.replace(
                        word,
                        /(?:[аеєіїийоуыьюя]|ам|ах|ами|ев|еві|еи|ей|ем|ею|єм|єю|ів|їв|ий|ием|ию|ия|иям|иях|ов|ові|ой|ом|ою|ью|ья|ям|ями|ях)$/g
                    );
                }
            }
        }
        return word;
    }

    step2(word) {
        return this.replace(word, /и$/);
    }

    step3(word) {
        if (
            /[^аеиоуюяіїє][аеиоуюяіїє]+[^аеиоуюяіїє]+[аеиоуюяіїє].*oсть/g.exec(word)
        ) {
            word = this.replace(word, /ость$/);
        }
        return word;
    }

    step4(word) {
        const originalWord = word;
        word = this.replace(originalWord, /ь$/);
        if (originalWord === word) {
            word = this.replace(word, /ейше$/);
            word = this.replace(word, /нн$/, 'н');
        }
        return word;
    }

    innerStem() {
        let word = this.getCurrent();
        const matchVowel = /[аеиоуюяіїє]/.exec(word);
        if (!matchVowel) {
            this.setCurrent(word);
            return;
        }
        if (matchVowel.index !== undefined) {
            const start = word.slice(0, matchVowel.index + 1);
            word = word.slice(matchVowel.index + 1);
            if (word === '') {
                this.setCurrent(start);
                return;
            }
            word = this.step1(word);
            word = this.step2(word);
            word = this.step3(word);
            word = this.step4(word);
            this.setCurrent(`${start}${word}`);
            return;
        }
        this.setCurrent(word);
        this.setCurrent(`${word.start}${word.str}`);
    }
}

module.exports = StemmerUk;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-NormalizerUk.html">NormalizerUk</a></li><li><a href="module-StemmerUk.html">StemmerUk</a></li><li><a href="module-StopwordsUk.html">StopwordsUk</a></li><li><a href="module-TokenizerUk.html">TokenizerUk</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Wed Jun 02 2021 13:14:07 GMT+0300 (за московським стандартним часом)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
